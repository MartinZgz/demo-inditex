-- Drop tables if they exist (for cleanup purposes)
DROP TABLE IF EXISTS PRICES;
DROP TABLE IF EXISTS BRAND;

-- Create the BRAND table
CREATE TABLE BRAND (
    BRAND_ID INT PRIMARY KEY AUTO_INCREMENT,
    NAME VARCHAR(100) NOT NULL
);

-- Create the PRICES table
CREATE TABLE PRICES (
    BRAND_ID INT NOT NULL,
    START_DATE VARCHAR(19) NOT NULL, -- Format: YYYY-MM-DD-HH.MM.SS
    END_DATE VARCHAR(19) NOT NULL,   -- Format: YYYY-MM-DD-HH.MM.SS
    PRICE_LIST INT NOT NULL,
    PRODUCT_ID INT NOT NULL,
    PRIORITY INT NOT NULL,
    PRICE DECIMAL(10, 2) NOT NULL,
    CURR VARCHAR(3) NOT NULL,
    PRIMARY KEY (BRAND_ID, PRODUCT_ID, PRICE_LIST),
    FOREIGN KEY (BRAND_ID) REFERENCES BRAND(BRAND_ID)
);

-- Insert values into the BRAND table
INSERT INTO BRAND (NAME) VALUES ('ZARA');

-- Insert values into the PRICES table
INSERT INTO PRICES (BRAND_ID, START_DATE, END_DATE, PRICE_LIST, PRODUCT_ID, PRIORITY, PRICE, CURR) VALUES
(1, '2020-06-14-00.00.00', '2020-12-31-23.59.59', 1, 35455, 0, 35.50, 'EUR'),
(1, '2020-06-14-15.00.00', '2020-06-14-18.30.00', 2, 35455, 1, 25.45, 'EUR'),
(1, '2020-06-15-00.00.00', '2020-06-15-11.00.00', 3, 35455, 1, 30.50, 'EUR'),
(1, '2020-06-15-16.00.00', '2020-12-31-23.59.59', 4, 35455, 1, 38.95, 'EUR');
